{
  "title": "Wiki í˜ì´ì§€ API ë¼ìš°íŠ¸ ìƒì„¸ ê°€ì´ë“œ",
  "slug": "backend/wiki-api",
  "content": "\n## 1. ë¬¸ì„œ ê°œìš”\n**ëª©ì **  \n`app/api/wiki/[...slug]/route.ts` íŒŒì¼ì´ ì œê³µí•˜ëŠ” Wiki í˜ì´ì§€ API ì—”ë“œí¬ì¸íŠ¸ì˜ ì‚¬ìš© ë°©ë²•ì„ ì™¸ë¶€ ê°œë°œìì™€ ë‚´ë¶€ íŒ€ì—ê²Œ ëª…í™•íˆ ì•ˆë‚´í•©ë‹ˆë‹¤.  \n\n**ëŒ€ìƒ ë…ì**  \n- í”„ë¡ íŠ¸ì—”ë“œÂ·ë°±ì—”ë“œ ê°œë°œì  \n- API ì†Œë¹„ì(ì™¸ë¶€ íŒŒíŠ¸ë„ˆ)  \n- ìš´ì˜Â·ë³´ì•ˆ ë‹´ë‹¹ì  \n\n**ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½**  \n- Wiki í˜ì´ì§€ ì¡°íšŒ, ìƒì„±, ìˆ˜ì •, ì‚­ì œ ì§€ì›  \n- ê³„ì¸µí˜• ê²½ë¡œ(`slug`)ë¥¼ í†µí•œ í˜ì´ì§€ ì‹ë³„  \n- JWT ê¸°ë°˜ ì¸ì¦Â·ì¸ê°€ ì ìš© ë° í‘œì¤€í™”ëœ ì‘ë‹µ í¬ë§·  \n\n**ë²„ì „ ì •ë³´ ë° ì ìš© ë²”ìœ„**  \n- í˜„ì¬ API ë²„ì „: `v1` (í”„ë¡œì íŠ¸ ë£¨íŠ¸ `package.json`ì— ì •ì˜)  \n- ì ìš© ë²”ìœ„: `app/api/wiki/[...slug]/route.ts`ì— ë§¤í•‘ëœ ëª¨ë“  HTTP ë©”ì„œë“œ  \n\n> **ì°¸ê³ **: ë³¸ ê°€ì´ë“œëŠ” ë¡œë²„íŠ¸ì˜ API ë¬¸ì„œ ì‘ì„± ê°€ì´ë“œë¼ì¸ì„ ì°¸ê³ í•˜ì—¬ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤[[API ë¬¸ì„œ ì‘ì„±ì„ ìœ„í•œ ë¡œë²„íŠ¸ì˜ ê°€ì´ë“œë¼ì¸](https://koko8829.tistory.com/2496)].\n\n---\n\n## 2. ì¸ì¦Â·ì¸ê°€ íë¦„\n| í•­ëª© | ë‚´ìš© |\n|------|------|\n| **ì§€ì› ì¸ì¦ ë°©ì‹** | **JWT (JSON Web Token)** ë¥¼ `Authorization: Bearer <token>` í—¤ë”ì— ë‹´ì•„ ì „ë‹¬í•©ë‹ˆë‹¤. í† í°ì€ `HS256` ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì„œëª…ë˜ë©°, `exp` í´ë ˆì„ì„ í†µí•´ ë§Œë£Œ ì‹œê°„ì´ ê´€ë¦¬ë©ë‹ˆë‹¤. |\n| **í† í° ì „ë‹¬ ë°©ë²•** | - `Authorization` í—¤ë” (ê¶Œì¥) <br> - HTTPâ€‘Only `session_token` ì¿ í‚¤ (ì˜µì…˜, SameSite=Lax) |\n| **ê¶Œí•œ ë ˆë²¨ ë³„ ì ‘ê·¼ ì œí•œ** | - **ì½ê¸°**(GET): ì¸ì¦ëœ ëª¨ë“  ì‚¬ìš©ì í—ˆìš© <br> - **ì‘ì„±Â·ìˆ˜ì •Â·ì‚­ì œ**(POST, PUT/PATCH, DELETE): `editor` ë˜ëŠ” `admin` ì—­í•  í•„ìš” |\n| **ì¸ì¦ ì‹¤íŒ¨ ì‹œ ì‘ë‹µ** | `401 Unauthorized` ì™€ ì•„ë˜ì™€ ê°™ì€ JSON ë°”ë”” ë°˜í™˜ <br> ```json { \"errorCode\":\"UNAUTHORIZED\", \"message\":\"Invalid or missing token.\" }``` |\n\n**ìš”ì•½**  \nAPIëŠ” JWT ê¸°ë°˜ Bearer í† í°ì„ ê¸°ë³¸ ì¸ì¦ ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. í† í°ì´ ì—†ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì„ ê²½ìš° 401 ì˜¤ë¥˜ê°€ ë°˜í™˜ë˜ë©°, ì“°ê¸°Â·ì‚­ì œ ì‘ì—…ì€ `editor` ì´ìƒ ê¶Œí•œì´ ìš”êµ¬ë©ë‹ˆë‹¤.\n\n---\n\n## 3. ë¼ìš°íŠ¸ êµ¬ì¡° ë° íŒŒë¼ë¯¸í„°\n- **íŒŒì¼ ìœ„ì¹˜**: `app/api/wiki/[...slug]/route.ts`  \n- **ë¼ìš°íŠ¸ ë§¤í•‘**: Next.js App Routerì˜ ì™€ì¼ë“œì¹´ë“œ `[...]` ë¡œ `/api/wiki/*` ê²½ë¡œ ì „ì²´ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.  \n\n### `slug` íŒŒë¼ë¯¸í„°\n- **í˜•ì‹**: ê³„ì¸µí˜• ê²½ë¡œ ë¬¸ìì—´ ë°°ì—´ (`string[]`). ì˜ˆì‹œ: `/api/wiki/technology/web/react` â†’ `slug = [\"technology\",\"web\",\"react\"]`.  \n- **ì—­í• **: Wiki í˜ì´ì§€ì˜ ê³ ìœ  ê²½ë¡œë¥¼ ì‹ë³„í•˜ë©°, í˜ì´ì§€ íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ë°˜ì˜í•©ë‹ˆë‹¤.  \n\n### ì§€ì› HTTP ë©”ì„œë“œ\n| ë©”ì„œë“œ | ë™ì‘ |\n|-------|------|\n| **GET** | í˜ì´ì§€ ì¡°íšŒ |\n| **POST** | ìƒˆ í˜ì´ì§€ ìƒì„± |\n| **PUT** / **PATCH** | ê¸°ì¡´ í˜ì´ì§€ ì „ì²´/ë¶€ë¶„ ì—…ë°ì´íŠ¸ |\n| **DELETE** | í˜ì´ì§€ ì‚­ì œ (soft / hard) |\n\n### ì§€ì› ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°\n| íŒŒë¼ë¯¸í„° | íƒ€ì… | ì„¤ëª… | ê¸°ë³¸ê°’ |\n|----------|------|------|--------|\n| `preview` | boolean | ë¯¸ë°œí–‰(ì´ˆì•ˆ) í˜ì´ì§€ë¥¼ ì¡°íšŒí•  ë•Œ `true` ë¡œ ì„¤ì • | `false` |\n| `includeDeleted` | boolean | ì†Œí”„íŠ¸ ì‚­ì œëœ í˜ì´ì§€ë¥¼ í¬í•¨í•´ ì¡°íšŒ (`true` ì‹œ) | `false` |\n| `mode` | string (`soft` \\| `hard`) | DELETE ìš”ì²­ ì‹œ ì‚­ì œ ë°©ì‹ ì§€ì •. ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ `soft` ê°€ ê¸°ë³¸ | `soft` |\n\n**ìš”ì•½**  \n`slug` ë¡œ í˜ì´ì§€ë¥¼ ì‹ë³„í•˜ê³ , `preview`, `includeDeleted`, `mode` ê°™ì€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì¡°íšŒÂ·ì‚­ì œ ë™ì‘ì„ ì„¸ë°€í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## 4. ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸\n\n### 4â€‘1. Wiki í˜ì´ì§€ ì¡°íšŒ (GET)\n- **ìš”ì²­ URL**: `GET /api/wiki/{slug...}`  \n- **í•„ìˆ˜ íŒŒë¼ë¯¸í„°**: `slug` (ê²½ë¡œ)  \n- **ì„ íƒ íŒŒë¼ë¯¸í„°**: `preview`, `includeDeleted`  \n\n**ì„±ê³µ ì‘ë‹µ** (`200 OK`)  \n\n    {\n        \"title\": \"React ì†Œê°œ\",\n        \"content\": \"ReactëŠ” ...\",\n        \"metadata\": {\n            \"authorId\": \"u123\",\n            \"createdAt\": \"2024-02-01T12:34:56Z\",\n            \"updatedAt\": \"2024-02-10T08:20:00Z\",\n            \"version\": 3,\n            \"deleted\": false\n        }\n    }\n\n- **ETag** í—¤ë”ê°€ í¬í•¨ë˜ì–´ ë‚™ê´€ì  ì ê¸ˆì— í™œìš©ë©ë‹ˆë‹¤.  \n- **ìºì‹œ**: `Cache-Control: private, max-age=60`  \n\n**ìš”ì•½**  \nGET ì€ `slug` ë¡œ í˜ì´ì§€ë¥¼ ì¡°íšŒí•˜ê³ , `preview`Â·`includeDeleted` ë¡œ ì´ˆì•ˆÂ·ì‚­ì œëœ í˜ì´ì§€ ì ‘ê·¼ì„ ì œì–´í•©ë‹ˆë‹¤. ì„±ê³µ ì‹œ í˜ì´ì§€ ë°ì´í„°ì™€ ë©”íƒ€ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n---\n\n### 4â€‘2. Wiki í˜ì´ì§€ ìƒì„± (POST)\n- **ìš”ì²­ URL**: `POST /api/wiki/{slug...}`  \n- **ìš”ì²­ í—¤ë”**: `Content-Type: application/json`  \n- **ìš”ì²­ ë°”ë””**  \n\n    {\n        \"title\": \"ìƒˆ í˜ì´ì§€ ì œëª©\",\n        \"content\": \"ë³¸ë¬¸ ë‚´ìš©\",\n        \"metadata\": {\n            \"tags\": [\"frontend\", \"react\"]\n        }\n    }\n\n- **ìë™ ë©”íƒ€ë°ì´í„°**: ì„œë²„ê°€ `authorId`(í† í°ì—ì„œ ì¶”ì¶œ), `createdAt`, `updatedAt`, `version(=1)`, `deleted(false)` ë¥¼ ì‚½ì…í•©ë‹ˆë‹¤.  \n\n**ì„±ê³µ ì‘ë‹µ** (`201 Created`)  \n\n- `Location` í—¤ë”ì— ìƒˆ í˜ì´ì§€ URL (`/api/wiki/{slug...}`) ì œê³µ  \n- ì‘ë‹µ ë³¸ë¬¸ì— ìƒì„±ëœ ë¦¬ì†ŒìŠ¤ ì „ì²´ ë°˜í™˜ (ìœ„ GET ì‘ë‹µê³¼ ë™ì¼ í¬ë§·)  \n\n**ìš”ì•½**  \nPOST ë¡œ ìƒˆ í˜ì´ì§€ë¥¼ ë§Œë“¤ ë•Œ í´ë¼ì´ì–¸íŠ¸ëŠ” `title`, `content`, ì„ íƒì  `metadata.tags` ë§Œ ì œê³µí•˜ë©´ ë©ë‹ˆë‹¤. ì„œë²„ëŠ” ì¸ì¦ í† í°ì—ì„œ ì‚¬ìš©ì ì •ë³´ë¥¼ ì¶”ì¶œí•´ ë©”íƒ€ë°ì´í„°ë¥¼ ìë™ ì±„ì›ë‹ˆë‹¤.\n\n---\n\n### 4â€‘3. Wiki í˜ì´ì§€ ìˆ˜ì • (PUT / PATCH)\n- **ìš”ì²­ URL**: `PUT /api/wiki/{slug...}` (ì „ì²´ êµì²´) ë˜ëŠ” `PATCH /api/wiki/{slug...}` (ë¶€ë¶„ ì—…ë°ì´íŠ¸)  \n- **í•„ìˆ˜ í—¤ë”**: `If-Match: \"<ETag>\"` (ë²„ì „ ì¶©ëŒ ë°©ì§€)  \n- **ìš”ì²­ ë°”ë””** (ì˜ˆì‹œ)  \n\n    {\n        \"title\": \"ìˆ˜ì •ëœ ì œëª©\",\n        \"content\": \"ìˆ˜ì •ëœ ë‚´ìš©\",\n        \"metadata\": {\n            \"tags\": [\"updated\"]\n        }\n    }\n\n- **ë™ì‹œì„± ì œì–´**: `If-Match` ê°’ì´ í˜„ì¬ `ETag` ì™€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ `409 Conflict` ë°˜í™˜.  \n\n**ì„±ê³µ ì‘ë‹µ** (`200 OK`)  \n\n    {\n        \"title\": \"ìˆ˜ì •ëœ ì œëª©\",\n        \"content\": \"ìˆ˜ì •ëœ ë‚´ìš©\",\n        \"metadata\": {\n            \"authorId\": \"u123\",\n            \"updatedAt\": \"2024-05-01T10:15:30Z\",\n            \"version\": 4,\n            \"deleted\": false\n        }\n    }\n\n**ìš”ì•½**  \nPUT/PATCH ëŠ” `If-Match` í—¤ë”ë¥¼ í†µí•´ ë‚™ê´€ì  ì ê¸ˆì„ êµ¬í˜„í•©ë‹ˆë‹¤. ì „ì²´ êµì²´ëŠ” PUT, ë¶€ë¶„ ì—…ë°ì´íŠ¸ëŠ” PATCH ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.\n\n---\n\n### 4â€‘4. Wiki í˜ì´ì§€ ì‚­ì œ (DELETE)\n- **ìš”ì²­ URL**: `DELETE /api/wiki/{slug...}`  \n- **ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**: `mode=soft` (ê¸°ë³¸) í˜¹ì€ `mode=hard`  \n\n**ë™ì‘**  \n- **soft**: `deleted` í”Œë˜ê·¸ë¥¼ `true` ë¡œ ì„¤ì •í•˜ê³  `deletedAt` íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë¡.  \n- **hard**: ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì˜êµ¬ ì‚­ì œ.  \n\n**ì„±ê³µ ì‘ë‹µ**  \n\n- **soft delete**: `204 No Content` (ë³¸ë¬¸ ì—†ìŒ)  \n- **hard delete**: `202 Accepted` ì™€ ì‘ì—… ID ë°˜í™˜ (ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œ)  \n\n    {\n        \"taskId\": \"del-20240501-abc123\",\n        \"status\": \"queued\"\n    }\n\n**ìš”ì•½**  \nDELETE ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì†Œí”„íŠ¸ ì‚­ì œë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. `mode=hard` ë¥¼ ì§€ì •í•˜ë©´ ì¦‰ì‹œ ì˜êµ¬ ì‚­ì œê°€ ì§„í–‰ë˜ë©°, ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œ 202 ì‘ë‹µê³¼ ì‘ì—… IDê°€ ë°˜í™˜ë©ë‹ˆë‹¤.\n\n---\n\n## 5. ìš”ì²­Â·ì‘ë‹µ ì˜ˆì‹œ\n### cURL ì˜ˆì‹œ\n- **GET (preview í¬í•¨)**  \n\n    curl -X GET \"https://api.example.com/api/wiki/technology/web/react?preview=true\" \\\n         -H \"Authorization: Bearer <token>\"\n\n- **POST**  \n\n    curl -X POST \"https://api.example.com/api/wiki/technology/web/react\" \\\n         -H \"Content-Type: application/json\" \\\n         -H \"Authorization: Bearer <token>\" \\\n         -d '{\"title\":\"React ì†Œê°œ\",\"content\":\"...\",\"metadata\":{\"tags\":[\"frontend\"]}}'\n\n- **PATCH (ETag ì‚¬ìš©)**  \n\n    curl -X PATCH \"https://api.example.com/api/wiki/technology/web/react\" \\\n         -H \"Content-Type: application/json\" \\\n         -H \"Authorization: Bearer <token>\" \\\n         -H 'If-Match: \"W/\\\"3\\\"\"' \\\n         -d '{\"content\":\"ì—…ë°ì´íŠ¸ëœ ë‚´ìš©\"}'\n\n- **DELETE (hard)**  \n\n    curl -X DELETE \"https://api.example.com/api/wiki/technology/web/react?mode=hard\" \\\n         -H \"Authorization: Bearer <token>\"\n\n### JavaScript fetch ì˜ˆì‹œ\n```javascript\n// GET with preview\nfetch('/api/wiki/technology/web/react?preview=true', {\n  method: 'GET',\n  headers: { 'Authorization': `Bearer ${token}` }\n})\n  .then(r => r.json())\n  .then(console.log);\n\n// POST new page\nfetch('/api/wiki/technology/web/react', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  },\n  body: JSON.stringify({\n    title: 'React ì†Œê°œ',\n    content: '...',\n    metadata: { tags: ['frontend'] }\n  })\n})\n  .then(r => r.json())\n  .then(console.log);\n```\n\n### ì‘ë‹µ JSON ìƒ˜í”Œ\n- **ì„±ê³µ (200)**  \n\n    {\n        \"title\": \"React ì†Œê°œ\",\n        \"content\": \"ReactëŠ” ...\",\n        \"metadata\": {\n            \"authorId\": \"u123\",\n            \"createdAt\": \"2024-02-01T12:34:56Z\",\n            \"updatedAt\": \"2024-05-01T10:15:30Z\",\n            \"version\": 4,\n            \"deleted\": false\n        }\n    }\n\n- **ì˜¤ë¥˜ (404)**  \n\n    {\n        \"errorCode\": \"PAGE_NOT_FOUND\",\n        \"message\": \"Requested wiki page does not exist.\",\n        \"details\": { \"slug\": [\"technology\",\"web\",\"react\"] }\n    }\n\n---\n\n## 6. ì˜¤ë¥˜ ì²˜ë¦¬ ë° ìƒíƒœ ì½”ë“œ\n| ì½”ë“œ | ì˜ë¯¸ | ì‘ë‹µ ì˜ˆì‹œ |\n|------|------|-----------|\n| **400** | ì˜ëª»ëœ ìš”ì²­(íŒŒë¼ë¯¸í„° ëˆ„ë½Â·í˜•ì‹ ì˜¤ë¥˜) | `{ \"errorCode\":\"INVALID_REQUEST\", \"message\":\"Missing title.\", \"details\":{...} }` |\n| **401** | ì¸ì¦ ì‹¤íŒ¨ | `{ \"errorCode\":\"UNAUTHORIZED\", \"message\":\"Invalid or missing token.\" }` |\n| **403** | ê¶Œí•œ ë¶€ì¡± | `{ \"errorCode\":\"FORBIDDEN\", \"message\":\"Insufficient permissions.\" }` |\n| **404** | í˜ì´ì§€ ë¯¸ì¡´ì¬ | `{ \"errorCode\":\"PAGE_NOT_FOUND\", \"message\":\"...\", \"details\":{ \"slug\": [...] } }` |\n| **409** | ë²„ì „ ì¶©ëŒ(If-Match ë¶ˆì¼ì¹˜) | `{ \"errorCode\":\"VERSION_CONFLICT\", \"message\":\"ETag mismatch.\", \"details\":{ \"currentVersion\":5 } }` |\n| **410** | ì†Œí”„íŠ¸ ì‚­ì œëœ í˜ì´ì§€ ì ‘ê·¼ | `{ \"errorCode\":\"PAGE_GONE\", \"message\":\"Page has been softâ€‘deleted.\", \"details\":{ \"slug\": [...] } }` |\n| **500** | ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ | `{ \"errorCode\":\"INTERNAL_ERROR\", \"message\":\"Unexpected error.\", \"details\":null }` |\n\n**ê¶Œì¥ ëŒ€ì‘ ë°©ì•ˆ**  \n\n- `400` â†’ íŒŒë¼ë¯¸í„° ê²€ì¦ ë¡œì§ ê°•í™” (ìŠ¤í‚¤ë§ˆ ê²€ì¦)  \n- `401/403` â†’ í† í° ì¬ë°œê¸‰Â·ê¶Œí•œ ì¬ê²€í†   \n- `409` â†’ ìµœì‹  ë²„ì „ ì¡°íšŒ í›„ `If-Match` ì¬ì „ì†¡  \n- `410` â†’ ë³µêµ¬ API(soft delete ë³µì›) ì‚¬ìš© ê²€í†   \n- `500` â†’ ë¡œê·¸ í™•ì¸ í›„ ìš´ì˜íŒ€ì— ë³´ê³   \n\n---\n\n## 7. ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤\n- **Rate Limiting**: 1ë¶„ë‹¹ 60ê±´ ì´í•˜ ìš”ì²­ ê¶Œì¥. ì´ˆê³¼ ì‹œ `429 Too Many Requests` ë°˜í™˜.  \n- **ì¬ì‹œë„ ì „ëµ**: 5xx ì˜¤ë¥˜ ì‹œ ì§€ìˆ˜ ë°±ì˜¤í”„ ì ìš© (ì˜ˆ: 100â€¯ms â†’ 200â€¯ms â†’ 400â€¯ms).  \n- **ë°ì´í„° ê²€ì¦**: ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ëª¨ë‘ ZodÂ·Joi ë“± ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì‚¬ìš©.  \n- **ë³´ì•ˆ**  \n  - ì…ë ¥ê°’ì— ëŒ€í•œ **SQL/NoSQL ì¸ì ì…˜ ë°©ì§€** ë° **XSS sanitization** ì ìš©.  \n  - CSRF ë°©ì§€ë¥¼ ìœ„í•´ `SameSite=Lax` ì¿ í‚¤ ë˜ëŠ” `X-CSRF-Token` í—¤ë” ì‚¬ìš© ê¶Œì¥.  \n\n**ìš”ì•½**  \nì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ìš´ì˜ì„ ìœ„í•´ ë ˆì´íŠ¸ ì œí•œ, ì¬ì‹œë„ ì •ì±…, ì…ë ¥ ê²€ì¦, ê·¸ë¦¬ê³  CSRFÂ·XSS ë°©ì–´ë¥¼ ë°˜ë“œì‹œ ì ìš©í•˜ì‹­ì‹œì˜¤.\n\n---\n\n## 8. í…ŒìŠ¤íŠ¸Â·ìƒ˜í”Œ ì½”ë“œ\n### ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •\n1. `node` â‰¥ 18, `pnpm` ì„¤ì¹˜  \n2. ë ˆí¬ì§€í† ë¦¬ í´ë¡  í›„ `pnpm install` ì‹¤í–‰  \n3. `.env.local`ì— `NEXT_PUBLIC_API_BASE=/api` ë“± í™˜ê²½ ë³€ìˆ˜ ì„¤ì •  \n4. `pnpm dev` ë¡œ ê°œë°œ ì„œë²„ ì‹¤í–‰ (`http://localhost:3000`)  \n\n### í†µí•© í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ\n| ì‹œë‚˜ë¦¬ì˜¤ | ê¸°ëŒ€ ê²°ê³¼ |\n|----------|-----------|\n| **GET ì¡´ì¬ í˜ì´ì§€** | `200 OK` + í˜ì´ì§€ ë°ì´í„° |\n| **GET ë¹„ì¡´ì¬ í˜ì´ì§€** | `404 NOT FOUND` |\n| **POST ì¸ì¦ëœ ì‚¬ìš©ì** | `201 Created` + `Location` í—¤ë” |\n| **PUT ë²„ì „ ì¶©ëŒ** (`If-Match` ë¶ˆì¼ì¹˜) | `409 CONFLICT` |\n| **DELETE soft** | `204 No Content` |\n| **DELETE hard** (ë¹„ë™ê¸°) | `202 Accepted` + ì‘ì—… ID |\n\n### Mock ì„œë²„ í™œìš©\n`msw`(Mock Service Worker) ë¡œ `GET /api/wiki/*` ë“± í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ì— í™œìš©í•©ë‹ˆë‹¤.\n\n**ìš”ì•½**  \nìœ„ ì ˆì°¨ëŒ€ë¡œ ë¡œì»¬ í™˜ê²½ì„ êµ¬ì„±í•˜ê³ , í‘œì— ì œì‹œëœ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìë™í™” í…ŒìŠ¤íŠ¸ì— í¬í•¨í•˜ë©´ API êµ¬í˜„ ê²€ì¦ì´ ìš©ì´í•©ë‹ˆë‹¤.\n\n---\n\n## 9. ë³€ê²½ ë¡œê·¸ & ë²„ì „ ê´€ë¦¬\n| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ë‚´ìš© | ì˜í–¥ |\n|------|------|-----------|------|\n| 2024-02-20 | v1.0.0 | ìµœì´ˆ ë¬¸ì„œ ì´ˆì•ˆ ì‘ì„± | ì „ì²´ ê°€ì´ë“œ ì œê³µ |\n| 2024-03-05 | v1.1.0 | ì¸ì¦Â·ì¸ê°€ ì„¹ì…˜ì— JWT ìƒì„¸ ì¶”ê°€ | ë³´ì•ˆ ê°€ì´ë“œ ë³´ê°• |\n| 2024-04-12 | v1.2.0 | ì˜¤ë¥˜ ì½”ë“œ í‘œì— 409Â·410 ì¶”ê°€ | ê°œë°œì ì˜¤ë¥˜ ì²˜ë¦¬ ê°œì„  |\n| 2024-05-08 | v1.3.0 | ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°(`preview`, `includeDeleted`, `mode`) ë° soft/hard delete ì„¤ëª… ì¶”ê°€ | ì‚¬ìš©ì„± í–¥ìƒ |\n\n**ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ**  \n- ê¸°ì¡´ `slug` ê¸°ë°˜ ê²½ë¡œëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.  \n- ì‚­ì œ ì˜µì…˜ì´ ìƒˆë¡­ê²Œ `mode` íŒŒë¼ë¯¸í„°ë¡œ ë…¸ì¶œë˜ë¯€ë¡œ, ê¸°ì¡´ í´ë¼ì´ì–¸íŠ¸ëŠ” ê¸°ë³¸ soft delete ë™ì‘ì— ì˜í–¥ì´ ì—†ìŠµë‹ˆë‹¤.  \n- `preview` ì™€ `includeDeleted` íŒŒë¼ë¯¸í„°ëŠ” ì„ íƒ ì‚¬í•­ì´ë©°, ê¸°ì¡´ í˜¸ì¶œì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.  \n\n---\n\n## 10. ì°¸ê³  ìë£Œ\n- **API ë¬¸ì„œ ì‘ì„± ê°€ì´ë“œë¼ì¸** â€“ ë¡œë²„íŠ¸ì˜ ê°€ì´ë“œë¼ì¸[[API ë¬¸ì„œ ì‘ì„±ì„ ìœ„í•œ ë¡œë²„íŠ¸ì˜ ê°€ì´ë“œë¼ì¸](https://koko8829.tistory.com/2496)]  \n- **Next.js App Router ë¬¸ì„œ** â€“ ê³µì‹ ë¬¸ì„œ([Next.js Docs](https://nextjs.org/docs/app/building-your-application/routing))  \n- **OAuth 2.0 í‘œì¤€** â€“ RFC 6749([IETF RFC 6749](https://datatracker.ietf.org/doc/html/rfc6749))  \n- **JWT (JSON Web Token)** â€“ RFC 7519([IETF RFC 7519](https://datatracker.ietf.org/doc/html/rfc7519))  \n\n> **ì£¼ì˜**: ë³¸ ë¬¸ì„œëŠ” í˜„ì¬ í™•ì¸ ê°€ëŠ¥í•œ êµ¬í˜„ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. í–¥í›„ ì½”ë“œ ë³€ê²½ ì‹œ í•´ë‹¹ ì„¹ì…˜ì„ ì—…ë°ì´íŠ¸í•˜ì‹­ì‹œì˜¤.",
  "lastModified": "2026-02-21T13:04:23Z",
  "author": "SEPilot AI",
  "status": "published",
  "isDraft": false,
  "isInvalid": false,
  "tags": [
    "API",
    "Wiki",
    "ë¼ìš°íŠ¸",
    "ì¸ì¦",
    "ë¬¸ì„œí™”"
  ],
  "order": 1,
  "history": [
    {
      "sha": "b7db918",
      "message": "Merge branch 'main' of https://github.com/jhl-labs/sepilot-wiki",
      "author": "GitHub Action",
      "authorEmail": "action@github.com",
      "date": "2026-02-21T13:04:23Z",
      "additions": 0,
      "deletions": 0
    },
    {
      "sha": "3cd7bad",
      "message": "ğŸŒ³ Wiki Tree Maintenance: ì „ì²´ 38ê°œì˜ ë¬¸ì„œê°€ ì¡´ì¬í•˜ë©°, ë£¨íŠ¸ ë ˆë²¨ì— íŒŒì¼ì´ ë‹¤ìˆ˜ ì¡´ì¬í•˜ê³  ì¼ë¶€ ì¤‘ë³µÂ·ë¶ˆí•„ìš”í•œ ë¬¸ì„œê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì£¼ìš” ë¬¸ì œëŠ” ë£¨íŠ¸ì— ìœ„ì¹˜í•œ ë¬¸ì„œë“¤ì„ ì ì ˆí•œ ì¹´í…Œê³ ë¦¬ë¡œ ì´ë™í•˜ì§€ ì•Šì€ ì , ë™ì¼ ì£¼ì œì˜ ë¬¸ì„œê°€ ì¤‘ë³µë˜ì–´ ê´€ë¦¬ê°€ ì–´ë ¤ìš´ ì , íŒŒì¼ëª… í‘œì¤€í™”ê°€ ë¶€ì¡±í•œ ì ì…ë‹ˆë‹¤.",
      "author": "GitHub Action",
      "authorEmail": "action@github.com",
      "date": "2026-02-21T11:20:48Z",
      "additions": 0,
      "deletions": 0
    }
  ]
}